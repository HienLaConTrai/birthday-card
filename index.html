<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ch√∫c m·ª´ng sinh nh·∫≠t üéâ</title>
  <style>
    :root{ --bg:#0f1724; --card:#0b1220; --accent:#ff6b6b; --text:#f8fafc }
    html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial}
    body{display:flex;align-items:center;justify-content:center;background:radial-gradient(circle at 10% 10%, #071029 0%, var(--bg) 40%);color:var(--text)}
    .wrap{width:min(960px,94vw);text-align:center;padding:32px;border-radius:18px;box-shadow:0 10px 30px rgba(2,6,23,0.6);background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));}
    .card{background:linear-gradient(135deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:36px;border-radius:14px}
    h1{margin:0;font-size:clamp(20px,4vw,40px)}
    p.lead{margin:10px 0 24px;font-size:clamp(14px,2.4vw,18px);opacity:0.95}

    .name{font-weight:700;color:var(--accent);font-size:clamp(28px,6vw,56px);margin:12px 0}
    .message{font-size:clamp(16px,2.4vw,20px);max-width:820px;margin:16px auto}

    /* heart animation */
    .hearts{display:flex;gap:12px;justify-content:center;margin-top:14px}
    .heart{width:28px;height:28px;transform:scale(0.9);animation:beat 1s infinite;}
    .heart:nth-child(2){animation-delay:.15s}
    .heart:nth-child(3){animation-delay:.3s}
    @keyframes beat{0%{transform:scale(.9)}25%{transform:scale(1.15)}50%{transform:scale(.95)}100%{transform:scale(.9)}}

    .btns{display:flex;gap:10px;justify-content:center;margin-top:22px}
    .btn{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:10px 14px;border-radius:10px;color:var(--text);cursor:pointer}
    .btn.primary{background:linear-gradient(90deg,#ff9a9e,#ff6b6b);border:0;color:#08121a}

    .inputWrap{display:flex;gap:8px;justify-content:center;margin-top:14px}
    input.nameInput{padding:10px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);background:transparent;color:var(--text);min-width:180px}

    .small{font-size:12px;opacity:.7;margin-top:12px}

    /* confetti simple */
    .confetti{position:fixed;inset:0;pointer-events:none;overflow:hidden}
    .piece{position:absolute;width:8px;height:14px;opacity:0.95;transform:translateY(-10vh) rotate(20deg);animation:fall 2500ms linear forwards}
    @keyframes fall{to{transform:translateY(110vh) rotate(520deg);opacity:1}}

    footer{margin-top:20px;font-size:12px;opacity:.6}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="card">
      <h1>üéâ Ch√∫c m·ª´ng sinh nh·∫≠t!</h1>
      <div id="content">
        <p class="lead">G·ª≠i t·ªõi b·∫°n th√¢n y√™u ‚Äî m·ªü link n√†y ƒë·ªÉ nh·∫≠n l·ªùi ch√∫c.</p>

        <!-- If name known, show here -->
        <div id="showArea" style="display:none">
          <div class="name" id="nameText">[T√™n]</div>
          <div class="message" id="wishText">Ch√∫c M·ªπ Ng√¢n tu·ªïi m·ªõi nhi·ªÅu s·ª©c kh·ªèe d·ªÖ th∆∞∆°ng h∆°n, h·ªçc gi·ªèi h∆°n, vui nhi·ªÅu h∆°n, tu·ªïi m·ªõi nhi·ªÅu ƒëi·ªÅu m·ªõi, nh·ªõ l√† ph·∫£i d·ªÖ th∆∞∆°ngggg h∆°n nhaaaa</div>

          <div class="hearts">
            <svg class="heart" viewBox="0 0 32 29.6"><path fill="var(--accent)" d="M23.6 0c-2.9 0-5.4 1.6-6.6 4C15.8 1.6 13.3 0 10.4 0 4.7 0 0 4.9 0 10.9c0 7.7 11.4 13.6 16 18.7 4.6-5.1 16-11 16-18.7C32 4.9 27.3 0 23.6 0z"></path></svg>
            <svg class="heart" viewBox="0 0 32 29.6"><path fill="#ffd166" d="M23.6 0c-2.9 0-5.4 1.6-6.6 4C15.8 1.6 13.3 0 10.4 0 4.7 0 0 4.9 0 10.9c0 7.7 11.4 13.6 16 18.7 4.6-5.1 16-11 16-18.7C32 4.9 27.3 0 23.6 0z"></path></svg>
            <svg class="heart" viewBox="0 0 32 29.6"><path fill="#7be495" d="M23.6 0c-2.9 0-5.4 1.6-6.6 4C15.8 1.6 13.3 0 10.4 0 4.7 0 0 4.9 0 10.9c0 7.7 11.4 13.6 16 18.7 4.6-5.1 16-11 16-18.7C32 4.9 27.3 0 23.6 0z"></path></svg>
          </div>

          <div class="btns">
            <button class="btn" id="editBtn">ƒê·ªïi t√™n kh√°c</button>
            <button class="btn primary" id="shareBtn">Sao ch√©p link g·ª≠i b·∫°n</button>
          </div>

          <div class="small">MeÃ£o: b·∫°n c√≥ th·ªÉ th√™m t√™n v√†o ƒë∆∞·ªùng d·∫´n: <code>?name=Hien</code></div>
        </div>

        <!-- input area -->
        <div id="inputArea" style="display:block">
          <div class="inputWrap">
            <input class="nameInput" id="nameInput" placeholder="Nh·∫≠p t√™n ng∆∞·ªùi nh·∫≠n (vd: Hien)" />
            <button class="btn primary" id="goBtn">T·∫°o l·ªùi ch√∫c</button>
          </div>
          <div class="small">Ho·∫∑c m·ªü link v·ªõi tham s·ªë t√™n: <code>file.html?name=An</code></div>
        </div>

      </div>
      <footer>Thi·ªáp ƒëi·ªán t·ª≠ t·ª± t·∫°o ‚Ä¢ L∆∞u file n√†y d∆∞·ªõi d·∫°ng <code>.html</code> v√† g·ª≠i cho b·∫°n b√®</footer>
    </div>
  </div>

  <div class="confetti" id="confetti"></div>

  <script>
    // Utility: read ?name= param
    function getQueryName(){
      const params = new URLSearchParams(location.search);
      const n = params.get('name');
      return n ? decodeURIComponent(n).trim() : null;
    }

    const showArea = document.getElementById('showArea');
    const inputArea = document.getElementById('inputArea');
    const nameText = document.getElementById('nameText');
    const wishText = document.getElementById('wishText');
    const nameInput = document.getElementById('nameInput');
    const goBtn = document.getElementById('goBtn');
    const editBtn = document.getElementById('editBtn');
    const shareBtn = document.getElementById('shareBtn');

    function renderFor(name){
      const safe = String(name || '').replace(/</g,'&lt;').replace(/>/g,'&gt;');
      nameText.innerHTML = safe;
      // You can customize the wishes here or randomize
      wishText.innerHTML = `Ch√∫c ${safe} th√™m tu·ªïi m·ªõi tr√†n ƒë·∫ßy s·ª©c kh·ªèe, ni·ªÅm vui v√† th·∫≠t nhi·ªÅu th√†nh c√¥ng. H√¥m nay l√† ng√†y c·ªßa b·∫°n ‚Äî h√£y t·∫≠n h∆∞·ªüng t·ª´ng kho·∫£nh kh·∫Øc! üéÇ‚ú®`;
      showArea.style.display = 'block';
      inputArea.style.display = 'none';
      spawnConfetti();
    }

    function showInput(){
      showArea.style.display = 'none';
      inputArea.style.display = 'block';
    }

    function spawnConfetti(){
      const container = document.getElementById('confetti');
      container.innerHTML = '';
      const colors = ['#ff6b6b','#ffd166','#7be495','#6ec1ff','#c2a6ff'];
      for(let i=0;i<24;i++){
        const d = document.createElement('div');
        d.className = 'piece';
        d.style.left = Math.random()*100 + 'vw';
        d.style.background = colors[Math.floor(Math.random()*colors.length)];
        d.style.animationDuration = (1800 + Math.random()*1200) + 'ms';
        d.style.transform = `translateY(-20vh) rotate(${Math.random()*360}deg)`;
        container.appendChild(d);
      }
      // remove after animation
      setTimeout(()=> container.innerHTML = '', 3000);
    }

    goBtn.addEventListener('click', ()=>{
      const v = nameInput.value.trim();
      if(!v){ nameInput.focus(); return }
      // update url without reloading
      const newUrl = location.pathname + '?name=' + encodeURIComponent(v);
      history.replaceState(null,'',newUrl);
      renderFor(v);
    });

    editBtn.addEventListener('click', ()=>{
      // back to input but keep current
      nameInput.value = nameText.textContent || '';
      showInput();
    });

    shareBtn.addEventListener('click', async ()=>{
      const url = location.href;
      try{
        await navigator.clipboard.writeText(url);
        shareBtn.textContent = 'ƒê√£ sao ch√©p!';
        setTimeout(()=> shareBtn.textContent = 'Sao ch√©p link g·ª≠i b·∫°n',1600);
      }catch(e){
        prompt('Sao ch√©p link n√†y v√† g·ª≠i cho b·∫°n:', url);
      }
    });

    // On load: if ?name= exists, render immediately
    (function(){
      const q = getQueryName();
      if(q){ renderFor(q); }
    })();

    // Optional: auto-focus input on mobile
    nameInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') goBtn.click(); });
  </script>
</body>
</html>

